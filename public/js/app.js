"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}var Koteyka=function(){function t(){var e=this;_classCallCheck(this,t),this.cards=_toConsumableArray(document.querySelectorAll(".js-card")),this.applyBtn=document.querySelector(".js-apply"),this.dropBtn=document.querySelector(".js-drop"),this.checked=document.querySelector(".js-checked"),this.sortingProps=_toConsumableArray(document.querySelectorAll(".js-sort")),this.applyBtn.addEventListener("click",this.applyFilters.bind(this)),this.dropBtn.addEventListener("click",this.dropFilters.bind(this)),this.checked.addEventListener("click",this.dropdown.bind(this)),this.sortingProps.forEach(function(t){return t.addEventListener("click",e.sortCards.bind(e))})}return _createClass(t,[{key:"dropFilters",value:function(){this.cards.forEach(function(t){t.classList.remove("m-hidden")})}},{key:"dropdown",value:function(){this.dropdownList=document.querySelector(".js-dropdown"),this.dropdownList.classList.toggle("visually-hidden"),this.checked.classList.toggle("m-open")}},{key:"applyFilters",value:function(){var r=this;this.fromCost=document.querySelector(".js-from").value,this.toCost=document.querySelector(".js-to").value;var e=[],a=[],s=[];this.areas=_toConsumableArray(document.querySelectorAll(".js-area:checked")),this.items=_toConsumableArray(document.querySelectorAll(".js-item:checked")),this.cards.forEach(function(t){t.classList.remove("m-hidden"),t.dataset.cost>=parseInt(r.fromCost)&&t.dataset.cost<=parseInt(r.toCost)&&e.push(t)}),e.forEach(function(e){r.areas.forEach(function(t){e.dataset.area==t.value&&a.push(e)})}),this.items.forEach(function(e){a.forEach(function(t){t.hasAttribute("data-"+e.id)&&s.push(t)})});var t=Array.from(new Set(s));this.cards.forEach(function(e){e.classList.add("m-hidden"),t.forEach(function(t){e==t&&e.classList.remove("m-hidden")})})}},{key:"sortCards",value:function(t){this.dropdownList.classList.toggle("visually-hidden");var e=t.target.innerHTML;switch(this.checked.innerHTML=e,t.target.dataset.sort){case"cost-up":this.cards.sort(function(t,e){return t.dataset.cost>e.dataset.cost?1:t.dataset.cost<e.dataset.cost?-1:0});break;case"cost-down":this.cards.sort(function(t,e){return t.dataset.cost<e.dataset.cost?1:t.dataset.cost>e.dataset.cost?-1:0});break;case"area-up":this.cards.sort(function(t,e){return t.dataset.area>e.dataset.area?1:t.dataset.area<e.dataset.area?-1:0});break;case"area-down":this.cards.sort(function(t,e){return t.dataset.area<e.dataset.area?1:t.dataset.area>e.dataset.area?-1:0});break;default:this.cards.sort(function(t,e){return t.dataset.cost>e.dataset.cost?1:t.dataset.cost<e.dataset.cost?-1:0})}var r=document.querySelector(".js-content");this.cards.forEach(function(t){r.insertAdjacentElement("beforeend",t)})}}]),t}();new Koteyka;